
export KOVAN_RPC=https://kovan.infura.io/v3/b457369d80df40c68906a224b200bda3
export OPTIMISM_KOVAN_RPC=https://kovan.optimism.io/

# Optimism contract addresses taken from 
# https://github.com/ethereum-optimism/optimism/tree/develop/packages/contracts/deployments/kovan
export Proxy__OVM_L1StandardBridge=0x22F24361D548e5FaAfb36d1437839f080363982B
export Proxy__OVM_L1CrossDomainMessenger=0x4361d0F75A0186C05f971c566dC6bEa5957483fD
export L2CrossDomainMessenger=0x4200000000000000000000000000000000000007

export ETH_ADDRESS=0x9774bbb6Ad4B97eC04075627AeED9d2CEC5B30a1
export ETH_PRIVATE_KEY=c59d206e0dd01c7677f76858590cd20561cfd4736aca734a5a11e075b2552f19
export TREASURY_ADDRESS=0xfb8Ba910b52C891f408e7D2AE30B07C947aF72d6
export L2_TOKEN_ADDRESS=0x2EAe58f04d103F9b028b1be06229D85Fad17FfBE
export L2_GOVERNANCE_ADDRESS=0x2744DDccD4067E7C2162FbC1d87C92142D9834a3
export PROPOSAL_ID=e5b4f4d157d7907afaeef9252609dae20bd58440331f5f32eb77fffea6ccd18a
export EXECUTOR_ADDRESS=0x5BaF9ADF0d25342437B3B2fD8F5716E1EaA5150C
DESCRIPTION="run acceptPendingAdmin()"
export L2CrossDomainMessenger_2=4200000000000000000000000000000000000007
BRIDGE_CALL_2=3dbb202b0000000000000000000000005baf9adf0d25342437b3b2fd8f5716e1eaa5150c000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000000000000000000000000000000000841cff79cd000000000000000000000000fb8ba910b52c891f408e7d2ae30b07c947af72d600000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000004709920c10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
# vote
VOTE=1
# cast send $L2_GOVERNANCE_ADDRESS 'castVote(uint256,uint8)' $PROPOSAL_ID $VOTE --private-key $ETH_PRIVATE_KEY --rpc-url $OPTIMISM_KOVAN_RPC --chain optimism-kovan --confirmations 1
# cast call $L2_GOVERNANCE_ADDRESS 'proposalDeadline(uint256 proposalId)' $PROPOSAL_ID --private-key $ETH_PRIVATE_KEY --rpc-url $OPTIMISM_KOVAN_RPC 
# cast call $L2_GOVERNANCE_ADDRESS 'state(uint256 proposalId)' $PROPOSAL_ID --rpc-url $OPTIMISM_KOVAN_RPC 
# cast call $L2_GOVERNANCE_ADDRESS 'state(uint256 proposalId)' $PROPOSAL_ID --rpc-url $OPTIMISM_KOVAN_RPC 
# cast send $L2_GOVERNANCE_ADDRESS 'execute(address[],uint256[],bytes[],bytes32)' \
#   '['$L2CrossDomainMessenger_2']' '[0]' '['$BRIDGE_CALL_2']' \
#   `cast keccak "$DESCRIPTION"` \
#   --private-key $ETH_PRIVATE_KEY --rpc-url $OPTIMISM_KOVAN_RPC --legacy \

cast call $TREASURY_ADDRESS 'admin()' --rpc-url $KOVAN_RPC 
